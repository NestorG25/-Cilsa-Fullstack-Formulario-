<!DOCTYPE html> 
<html lang="es">  
    <head>  
        <meta charset="utf-8"> 
          <title>titulo</title> 
          </head> 
          <link rel="stylesheet" href="Formulario3.css">
           <body>  
                <div class="container">
                    <h1>Formulario</h1>
                        <form action="Formulario3.html" method="POST"></form>
                            <label for="nombre">Nombre:</label>
                                <input type="text" id="nombre" name="nombre" required pattern="[A-Za-zÁÉÍÓÚáéíóúñÑ ]{2,}" title="Solo letras y mínimo 2 caracteres">
                                <span id="nombreError" class="error"></span>

                            <label for="apellido">Apellido:</label>
                            <input type="text" id="apellido" name="apellido" required pattern="[A-Za-zÁÉÍÓÚáéíóúñÑ ]{2,}" title="Solo letras y mínimo 2 caracteres">
                                <span id="apellidoError" class="error"></span>

                            <label for="email">Email:</label>
                                <input type="email" id="email" name="email" required title="Introduce un email válido">
                                <span id="Email" class="Email"></span>   
                                <br><br>
                            
                            <label for="fecha-nacimiento">Fecha de nacimiento:</label>
                                <input type="date" id="fecha-nacimiento" name="fecha-nacimiento" required min="1930-01-01" max="2010-12-31">
                                <span id="fechaError" class="error"></span>

                            <style>
                                .alerta {
                                    background-color: #ffcccc;
                                    color: #d8000c;
                                    padding: 15px;
                                    border: 1px solid #d8000c;
                                    border-radius: 5px;
                                    text-align: center;
                                    font-weight: bold;
                                    width: 80%;
                                    margin: 20px auto;
                                }
                            </style>        
                            
                            <label for="pais"> Pais de residencia </label>
                            <select name="pais" id="pais">
                                <span id="pais" class="pais"></span>
                                <option value="argentina">Argentina</option>
                                <option value="suecia">Suecia</option>
                                <option value="estados unidos">Estados Unidos</option>
                                <option value="españa">España</option>
                                </select>
                                
                        </form>

                        <script>
                            // validación en tiempo real
                            function validarTiempoReal() {
                                document.getElementById('nombre').addEventListener('input', function () {
                                    validarCampo(this, letrasPattern, 'nombreError', "El nombre debe contener solo letras.");
                                });
                    
                                document.getElementById('apellido').addEventListener('input', function () {
                                    validarCampo(this, letrasPattern, 'apellidoError', "El apellido debe contener solo letras.");
                                });
                    
                                document.getElementById('email').addEventListener('input', function () {
                                    validarCampo(this, emailPattern, 'emailError', "Por favor, ingrese un correo electrónico válido.");
                                });
                    
                                document.getElementById('fecha').addEventListener('input', function () {
                                    if (this.value.trim() === "") {
                                        mostrarError('fechaError', "Por favor, ingrese su fecha de nacimiento.");
                                    } else {
                                        mostrarError('fechaError', "");
                                    }
                                });
                    
                                document.getElementById('pais').addEventListener('input', function () {
                                    validarCampo(this, letrasPattern, 'paisError', "El país debe contener solo letras.");
                                });
                            }
                            
                            validarTiempoReal();
    
                                // Si todos los campos son válidos, enviamos el formulario
                                if (valido) {
                                    alert('Formulario enviado correctamente');
                                    // Aquí puedes agregar lógica para enviar el formulario, si es necesario
                                    document.getElementById('Formulario').submit(); // Esto enviaría el formulario
                                }
                                <input type="submit" value="Enviar" onClick="document.write('Formulario completado con exito')"></input> 

                        </script>

                        <br><br>

                        <div class="botones-estilo">

                            <button class="btn-cambio" onclick="document.body.className = 'claro'">Estilo claro</button>
                            <button class="btn-cambio" onclick="document.body.className = 'oscuro'">Estilo oscuro</button>
                            <button class="btn-cambio" onclick="document.body.className = 'alto-contraste'">Estilo Alto Contraste</button>
                        </div>

                            <script>
                                // validar un campo con patrón 
                                function validarCampo(campo, patron, errorElement, mensajeError) {
                                    if (!patron.test(campo.value.trim())) {
                                        mostrarError(errorElement, mensajeError);
                                        return false;
                                    } else {
                                        mostrarError(errorElement, "");
                                        return true;
                                    }
                                }

                                // Patrones de validación 
                                var letrasPattern = /^[a-zA-Z]+$/;
                                var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
                                var fechaPattern = /^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/\d{4}$/;
                                var paisPattern = /^[a-zA-Z]+$/;

                                // Validar campos
                                var isValid = true;

                                if (!validarCampo(nombre, letrasPattern, 'nombreError', "El nombre debe contener solo letras.")) {
                                    isValid = false;
                                }

                                if (!validarCampo(apellido, letrasPattern, 'apellidoError', "El apellido debe contener solo letras.")) {
                                    isValid = false;
                                }

                                if (!validarCampo(email, emailPattern, 'emailError', "Por favor, ingrese un correo electrónico válido.")) {
                                    isValid = false;
                                }

                                if (fecha.value.trim() === "") {
                                    mostrarError('fechaError', "Por favor, ingrese su fecha de nacimiento.");
                                    isValid = false;
                                } else {
                                    mostrarError('fechaError', "");
                                }

                                if (!validarCampo(pais, letrasPattern, 'paisError', "El país debe contener solo letras.")) {
                                    isValid = false;
                                }

                                return isValid;
                                
                                //Validar el formulario
                                function validarFormulario() {
                                var nombre = document.getElementById('nombre');
                                var apellido = document.getElementById('apellido');
                                var email = document.getElementById('email');
                                var fecha = document.getElementById('fecha');
                                var pais = document.getElementById('pais');
                                }
                            </script>
                                                

                        <br><br>

                    </form>
                </div>
            </body>
</html> 
